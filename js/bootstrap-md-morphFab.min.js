!function(e,t){t["true"]=e,function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bmd.morphFab"),n=e.extend({},s.DEFAULTS,a.data(),"object"==typeof t&&t);i||a.data("bmd.morphFab",i=new s(this,n)),"expand"==t?(i.morphExpand(),i.morphFabMove()):"close"==t&&i.morphClose()})}var s=function(t,s){if(this.options=s,this.$element=e(t),this.$target=e(this.$element.data("target")),this.$fabParent=this.$element.parent().hasClass(".bmd-fab-speed-dial-container")||"LI"==this.$element.parent()[0].nodeName?this.$element.parent():this.$element,!this.$target.length)return this.$fakeFab=null,void console.log('Morph FAB has no target="'+this.$element.data("target")+'", initialization stopped.');var a=this.$target.find(".bmd-morph-fab-fake");this.$fakeFab=a.length>0?a:this.$element.clone().removeAttr("style").addClass("bmd-morph-fab-fake").appendTo(this.$target),this.resizeTarget(),this.$target.hasClass("bmd-morph-closed")?this.$fakeFab.addClass("hidden"):this.$fabParent.addClass("hidden"),this.eventSetup()};s.DEFAULTS={stickfab:!1,sticktarget:!1,closemenu:!1},s.prototype.toggleMenu=function(e){var t=this;"open"==e?(this.$element.closest(".bmd-sidebar").addClass("bmd-sidebar-active"),this.$element.closest(".bmd-bottom-sheet").addClass("active"),this.$element.closest(".bmd-fab-speed-dial-container").children(".bmd-fab-speed-dialer").addClass("press")):setTimeout(function(){t.$element.closest(".bmd-sidebar").removeClass("bmd-sidebar-active"),t.$element.closest(".bmd-bottom-sheet").removeClass("active"),t.$element.closest(".bmd-fab-speed-dial-container").children(".bmd-fab-speed-dialer").removeClass("press")},300)},s.prototype.fabExpand=function(){this.$fakeFab.one("webkitAnimationEnd animationend",e.proxy(this.morphPostHandler,this)),this.$target.addClass("morphing")},s.prototype.morphPostHandler=function(){this.$target.hasClass("morphing")?(this.$fakeFab.addClass("hidden"),this.$target.removeClass("morphing expanding bmd-morph-closed").addClass("bmd-morph-expanded"),this.$element.trigger(e.Event("expanded.bmd.morphFab",{relatedTarget:this.$target}))):this.morphFabMove()},s.prototype.morphFabArrived=function(){this.$target.hasClass("closing")?(this.$target.removeClass("closing").addClass("bmd-morph-closed"),this.resizeTarget(),this.$fabParent.removeClass("invisible"),this.options.closemenu&&this.toggleMenu("close"),this.$fakeFab.addClass("hidden").removeClass("moving"),this.$element.trigger(e.Event("closed.bmd.morphFab",{relatedTarget:this.$target}))):this.$fakeFab.hasClass("moving")&&(this.$fabParent.addClass("hidden").removeClass("invisible"),this.resetFakeStyle(),this.$fakeFab.removeClass("moving"),this.options.closemenu&&this.toggleMenu("close"),setTimeout(e.proxy(this.fabExpand,this),100))},s.prototype.resetFakeStyle=function(){this.$fakeFab.css({transition:"",position:"",right:"",bottom:"",margin:"",top:"",left:""})},s.prototype.morphFabMove=function(){if(!this.$fakeFab.hasClass("moving")&&(this.$target.hasClass("expanding")||this.$target.hasClass("closing"))){var t=this,s={},a=function(){if(t.$target.hasClass("expanding")){var a=t.$element.offset();t.resetFakeStyle(),s=t.$fakeFab.offset()}else var a=t.$fakeFab.offset();t.$fakeFab.css({transition:"none",position:"fixed",right:"",bottom:"",margin:0,top:a.top-window.pageYOffset,left:a.left-window.pageXOffset}),t.$fakeFab.one("webkitTransitionEnd transitionend",e.proxy(t.morphFabArrived,t))};this.$fakeFab.addClass("moving"),this.$target.hasClass("expanding")?this.targetResized.done(function(){t.$fakeFab.addClass("invisible").removeClass("hidden"),a(),t.$fakeFab.removeClass("invisible"),t.$fabParent.addClass("invisible"),setTimeout(function(){t.$fakeFab.css({transition:"all 0.2s ease-in",top:s.top-window.pageYOffset,left:s.left-window.window.pageXOffset})},100)}):(this.$fabParent.addClass("invisible").removeClass("hidden"),this.options.stickfab||this.$fabParent.appendTo(this.$element.closest("ul")),a(),setTimeout(function(){var e=t.$fabParent.parent(".bmd-fab-speed-dial-list").prev(".bmd-fab-speed-dialer"),s={top:0,left:0};e.length&&!e.hasClass("press")&&(s={top:e.offset().top,left:e.offset().left});var a={top:(s.top||t.$element.offset().top)-window.pageYOffset,left:(s.left||t.$element.offset().left)-window.pageXOffset};t.$fakeFab.css({transition:"all 0.2s ease-in",top:a.top,left:a.left})},100))}},s.prototype.morphClose=function(){this.$target.hasClass("bmd-morph-closed")||(this.$fakeFab.one("webkitAnimationEnd animationend",e.proxy(this.morphPostHandler,this)),this.$fakeFab.removeClass("hidden"),this.options.closemenu&&this.toggleMenu("open"),this.$target.removeClass("bmd-morph-expanded").addClass("closing"))},s.prototype.eventSetup=function(){var t=this;this.$target.find(".bmd-morph-close").on("click",function(s){s.preventDefault(),e(this).hasClass("bmd-ripple")||t.morphClose()}).delegate(".bmd-ink","hidden.bmd.ink",function(){t.morphClose()}),this.$element.on("click",function(e){e.preventDefault(),t.morphExpand(),t.$element.hasClass("bmd-ripple")||t.morphFabMove()}).delegate(".bmd-ink","hidden.bmd.ink",e.proxy(t.morphFabMove,t))},s.prototype.morphExpand=function(){this.$target.hasClass("bmd-morph-expanded")||(this.$target.addClass("expanding"),this.options.sticktarget||this.$target.parent().appendTo(this.$target.parent().parent()),this.resizeTarget())},s.prototype.resizeTarget=function(){if(this.$target.parent().css("transition","all .35s cubic-bezier(.55,0,.1,1)"),this.$target.hasClass("expanding")){var t=this;this.targetResized=e.Deferred(),setTimeout(function(){t.$target.parent().one("webkitTransitionEnd transitionend",function(){t.targetResized.resolve(!0)}),t.$target.parent().css({width:"",padding:"","min-height":"","max-height":"",overflow:""})})}else this.$target.hasClass("bmd-morph-closed")&&this.$target.parent().css({width:0,padding:0,"min-height":0,"max-height":0,overflow:"hidden"})};var a=e.fn.morphFab;e.fn.morphFab=t,e.fn.morphFab.Constructor=s,e.fn.morphFab.noConflict=function(){return e.fn.morphFab=a,this},e(window).on("load.bmd.morphFab.data-api",function(){e(".bmd-morph-fab:not(.bmd-morph-fab-fake)").each(function(){var s=e(this);t.call(s,s.data())})})}(jQuery)}({},function(){return this}());